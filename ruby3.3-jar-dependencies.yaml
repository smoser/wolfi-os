# Generated from https://github.com/mkristian/jar-dependencies
package:
  name: ruby3.3-jar-dependencies
  version: 0.4.2
  epoch: 0
  description: manage jar dependencies for gems and keep track which jar was already loaded using maven artifact coordinates. it warns on version conflicts and loads only ONE jar assuming the first one is compatible to the second one otherwise your project needs to lock down the right version by providing a Jars.lock file.
  copyright:
    - license: MIT

environment:
  contents:
    packages:
      - build-base
      - busybox
      - ca-certificates-bundle
      - git
      - ruby-${{vars.rubyMM}}
      - ruby-${{vars.rubyMM}}-dev

pipeline:
  - uses: git-checkout
    with:
      expected-commit: b1e99921627a481f2746f1b729920b4b95e93c83
      repository: https://github.com/mkristian/jar-dependencies
      tag: ${{package.version}}

  - uses: ruby/build
    with:
      gem: ${{vars.gem}}

  - uses: ruby/install
    with:
      gem: ${{vars.gem}}
      version: ${{package.version}}

  - uses: ruby/clean

vars:
  gem: jar-dependencies

update:
  enabled: true
  github:
    identifier: mkristian/jar-dependencies
    use-tag: true

test:
  pipeline:
    # AUTOGENERATED
    - runs: |
        lock_jars --help

var-transforms:
  - from: ${{package.name}}
    match: ^ruby(\d\.\d+)-.*
    replace: $1
    to: rubyMM
